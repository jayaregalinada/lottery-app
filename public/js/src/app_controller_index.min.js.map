{"version":3,"sources":["app_controller_index.coffee","app_controller_index.js"],"names":["_app","controller","$scope","$log","$window","$http","$timeout","lucky","errorMessage","button","generate","$n","log","randomNumbers","a","b","c","n","_","range","shuffle","slice","lottery","e","_u","preventDefault","form_lucky","uniq","values","length","generating","url","data","params","$dirty","method","success","s","error"],"mappings":"AAAAA,KAAKC,WAAW,kBAAmB,SAACC,EAAQC,EAAMC,EAASC,EAAOC,GAEhEJ,EAAOK,SACPL,EAAOM,aAAe,KACtBN,EAAOO,OAAS,WAEhBP,EAAOQ,SAAW,WAChB,GAAAC,EAAAR,GAAKS,IAAI,gCACTD,EAAKT,EAAOW,gBACZX,EAAOK,OACLO,EAAGH,EAAG,GACNI,EAAGJ,EAAG,GACNK,EAAGL,EAAG,KAIVT,EAAOW,cAAgB,WACrB,GAAAI,ECEA,ODFAA,GAAIC,EAAEC,MAAM,EAAG,IACfF,EAAIC,EAAEE,QAAQH,GACdA,EAAIC,EAAEG,MAAMJ,EAAG,EAAG,IAGpBf,EAAOoB,QAAU,SAACC,GAChB,GAAAC,EAAAD,GAAEE,iBACFvB,EAAOM,aAAe,KACtBN,EAAOO,OAAS,iBAChBN,EAAKS,IAAI,SAAUV,EAAOK,OAC1BJ,EAAKS,IAAI,OAAQV,EAAOwB,YACxBF,EAAKN,EAAES,KAAKT,EAAEU,OAAO1B,EAAOK,QACzBiB,EAAGK,OAAS,GACb3B,EAAOM,aAAe,uCACtBN,EAAOO,OAAS,aAEhBH,EAASJ,EAAO4B,WAAY,OAIhC5B,EAAO4B,WAAa,WCAlB,MDCAzB,IACE0B,IAAK,QACLC,KAAM9B,EAAOK,MACb0B,QACEX,QAASpB,EAAOwB,WAAWQ,QAC7BC,OAAQ,SACTC,QAAQ,SAACC,GACRlC,EAAKS,IAAIyB,GACTnC,EAAOK,MAAQ8B,EACfnC,EAAOM,aAAe,KACtBN,EAAOO,OAAS,aAGjB6B,MAAM,SAACf,GACNpB,EAAKmC,MAAMf,GACXrB,EAAOwB,WAAWQ,QAAS,EAC3B/B,EAAKS,IAAIV,EAAOwB,YAChBxB,EAAOM,aAAee,EAAEe,MACxBpC,EAAOO,OAAS,eAIpBP,EAAOQ","file":"app_controller_index.min.js","sourcesContent":["_app.controller 'IndexController', ($scope, $log, $window, $http, $timeout)->\r\n\r\n  $scope.lucky = {}\r\n  $scope.errorMessage = null\r\n  $scope.button = 'GENERATE'\r\n\r\n  $scope.generate = ->\r\n    $log.log 'This must be your lucky day.'\r\n    $n = $scope.randomNumbers()\r\n    $scope.lucky =\r\n      a: $n[0]\r\n      b: $n[1]\r\n      c: $n[2]\r\n\r\n    return\r\n\r\n  $scope.randomNumbers = ->\r\n    n = _.range 1, 49\r\n    n = _.shuffle n\r\n    n = _.slice n, 0, 3\r\n    n\r\n\r\n  $scope.lottery = (e)->\r\n    e.preventDefault()\r\n    $scope.errorMessage = null\r\n    $scope.button = 'GENERATING ...'\r\n    $log.log 'values', $scope.lucky\r\n    $log.log 'form', $scope.form_lucky\r\n    _u = _.uniq _.values $scope.lucky\r\n    if _u.length < 3\r\n      $scope.errorMessage = 'Every box must be unique. Try again?'\r\n      $scope.button = 'TRY AGAIN'\r\n    else\r\n      $timeout $scope.generating, 1500\r\n\r\n    return\r\n\r\n  $scope.generating = ->\r\n    $http\r\n      url: 'lucky'\r\n      data: $scope.lucky\r\n      params:\r\n        lottery: $scope.form_lucky.$dirty\r\n      method: 'POST'\r\n    .success (s)->\r\n      $log.log s\r\n      $scope.lucky = s\r\n      $scope.errorMessage = null\r\n      $scope.button = 'GENERATE'\r\n\r\n      return\r\n    .error (e)->\r\n      $log.error e\r\n      $scope.form_lucky.$dirty = false\r\n      $log.log $scope.form_lucky\r\n      $scope.errorMessage = e.error\r\n      $scope.button = 'TRY AGAIN'\r\n\r\n      return\r\n\r\n  $scope.generate()\r\n\r\n  return","_app.controller('IndexController', function($scope, $log, $window, $http, $timeout) {\n  $scope.lucky = {};\n  $scope.errorMessage = null;\n  $scope.button = 'GENERATE';\n  $scope.generate = function() {\n    var $n;\n    $log.log('This must be your lucky day.');\n    $n = $scope.randomNumbers();\n    $scope.lucky = {\n      a: $n[0],\n      b: $n[1],\n      c: $n[2]\n    };\n  };\n  $scope.randomNumbers = function() {\n    var n;\n    n = _.range(1, 49);\n    n = _.shuffle(n);\n    n = _.slice(n, 0, 3);\n    return n;\n  };\n  $scope.lottery = function(e) {\n    var _u;\n    e.preventDefault();\n    $scope.errorMessage = null;\n    $scope.button = 'GENERATING ...';\n    $log.log('values', $scope.lucky);\n    $log.log('form', $scope.form_lucky);\n    _u = _.uniq(_.values($scope.lucky));\n    if (_u.length < 3) {\n      $scope.errorMessage = 'Every box must be unique. Try again?';\n      $scope.button = 'TRY AGAIN';\n    } else {\n      $timeout($scope.generating, 1500);\n    }\n  };\n  $scope.generating = function() {\n    return $http({\n      url: 'lucky',\n      data: $scope.lucky,\n      params: {\n        lottery: $scope.form_lucky.$dirty\n      },\n      method: 'POST'\n    }).success(function(s) {\n      $log.log(s);\n      $scope.lucky = s;\n      $scope.errorMessage = null;\n      $scope.button = 'GENERATE';\n    }).error(function(e) {\n      $log.error(e);\n      $scope.form_lucky.$dirty = false;\n      $log.log($scope.form_lucky);\n      $scope.errorMessage = e.error;\n      $scope.button = 'TRY AGAIN';\n    });\n  };\n  $scope.generate();\n});\n"],"sourceRoot":"/source/"}