{"version":3,"sources":["preload.coffee","routes.coffee","app_controller_index.coffee","scripts.js"],"names":["window","_app","angular","module","config","$interpolateProvider","$animateProvider","$httpProvider","startSymbol","endSymbol","defaults","headers","common","run","$rootScope","$state","$stateParams","element","document","ready","bootstrap","$stateProvider","$urlRouterProvider","$path","location","origin","pathname","otherwise","state","url","controller","templateUrl","$scope","$log","$window","$http","$timeout","lucky","errorMessage","button","generate","$n","log","randomNumbers","a","b","c","n","_","range","shuffle","slice","lottery","e","_u","preventDefault","form_lucky","uniq","values","length","generating","data","params","$dirty","method","success","s","error"],"mappings":"AAAAA,OAAOC,KAAOC,QAAQC,OAAO,OAE3B,cAGFH,OAAOC,KAAKG,OAAO,SAACC,EAAsBC,EAAkBC,GAE1DF,EAAqBG,YAAY,MACjCH,EAAqBI,UAAU,MAE/BF,EAAcG,SAASC,QAAQC,OAAO,oBAAsB,mBAI9DZ,OAAOC,KAAKY,IAAI,SAACC,EAAYC,EAAQC,GAEnCF,EAAWC,OAASA,EACpBD,EAAWE,aAAeA,IAI5Bd,QAAQe,QAAQC,UAAUC,MAAM,WAE9BjB,QAAQkB,UAAUF,UAAW,UCtB/BlB,OAAOC,KAAKG,OAAO,SAAEiB,EAAgBC,GACnC,GAAAC,EAAAA,GAAQvB,OAAOwB,SAASC,OAASzB,OAAOwB,SAASE,SACjDJ,EAAmBK,UAAU,KAE7BN,EACGO,MAAM,SACLC,IAAK,IACLC,WAAY,kBACZC,YAAaR,EAAQ,kBCT3BtB,KAAK6B,WAAW,kBAAmB,SAACE,EAAQC,EAAMC,EAASC,EAAOC,GAEhEJ,EAAOK,SACPL,EAAOM,aAAe,KACtBN,EAAOO,OAAS,WAEhBP,EAAOQ,SAAW,WAChB,GAAAC,EAAAR,GAAKS,IAAI,gCACTD,EAAKT,EAAOW,gBACZX,EAAOK,OACLO,EAAGH,EAAG,GACNI,EAAGJ,EAAG,GACNK,EAAGL,EAAG,KAIVT,EAAOW,cAAgB,WACrB,GAAAI,EC8BA,OD9BAA,GAAIC,EAAEC,MAAM,EAAG,IACfF,EAAIC,EAAEE,QAAQH,GACdA,EAAIC,EAAEG,MAAMJ,EAAG,EAAG,IAGpBf,EAAOoB,QAAU,SAACC,GAChB,GAAAC,EAAAD,GAAEE,iBACFvB,EAAOM,aAAe,KACtBN,EAAOO,OAAS,iBAChBN,EAAKS,IAAI,SAAUV,EAAOK,OAC1BJ,EAAKS,IAAI,OAAQV,EAAOwB,YACxBF,EAAKN,EAAES,KAAKT,EAAEU,OAAO1B,EAAOK,QACzBiB,EAAGK,OAAS,GACb3B,EAAOM,aAAe,uCACtBN,EAAOO,OAAS,aAEhBH,EAASJ,EAAO4B,WAAY,OAIhC5B,EAAO4B,WAAa,WC4BlB,MD3BAzB,IACEN,IAAK,QACLgC,KAAM7B,EAAOK,MACbyB,QACEV,QAASpB,EAAOwB,WAAWO,QAC7BC,OAAQ,SACTC,QAAQ,SAACC,GACRjC,EAAKS,IAAIwB,GACTlC,EAAOK,MAAQ6B,EACflC,EAAOM,aAAe,KACtBN,EAAOO,OAAS,aAGjB4B,MAAM,SAACd,GACNpB,EAAKkC,MAAMd,GACXrB,EAAOwB,WAAWO,QAAS,EAC3B9B,EAAKS,IAAIV,EAAOwB,YAChBxB,EAAOM,aAAee,EAAEc,MACxBnC,EAAOO,OAAS,eAIpBP,EAAOQ","file":"scripts.min.js","sourcesContent":["window._app = angular.module 'App', [\r\n  # 'ngAnimate'\r\n  'ui.router'\r\n  ]\r\n\r\nwindow._app.config ($interpolateProvider, $animateProvider, $httpProvider)->\r\n\r\n  $interpolateProvider.startSymbol '{#'\r\n  $interpolateProvider.endSymbol '#}'\r\n\r\n  $httpProvider.defaults.headers.common[\"X-Requested-With\"] = \"XMLHttpRequest\"\r\n\r\n  return\r\n\r\nwindow._app.run ($rootScope, $state, $stateParams)->\r\n\r\n  $rootScope.$state = $state\r\n  $rootScope.$stateParams = $stateParams\r\n\r\n  return\r\n\r\nangular.element(document).ready ->\r\n\r\n  angular.bootstrap(document, ['App'])\r\n\r\n  return","## Dashboard Routes\r\nwindow._app.config ( $stateProvider, $urlRouterProvider )->\r\n  $path = window.location.origin + window.location.pathname\r\n  $urlRouterProvider.otherwise '/'\r\n\r\n  $stateProvider\r\n    .state 'index',\r\n      url: '/'\r\n      controller: 'IndexController'\r\n      templateUrl: $path + 'v/form.html'\r\n\r\n  return","_app.controller 'IndexController', ($scope, $log, $window, $http, $timeout)->\r\n\r\n  $scope.lucky = {}\r\n  $scope.errorMessage = null\r\n  $scope.button = 'GENERATE'\r\n\r\n  $scope.generate = ->\r\n    $log.log 'This must be your lucky day.'\r\n    $n = $scope.randomNumbers()\r\n    $scope.lucky =\r\n      a: $n[0]\r\n      b: $n[1]\r\n      c: $n[2]\r\n\r\n    return\r\n\r\n  $scope.randomNumbers = ->\r\n    n = _.range 1, 49\r\n    n = _.shuffle n\r\n    n = _.slice n, 0, 3\r\n    n\r\n\r\n  $scope.lottery = (e)->\r\n    e.preventDefault()\r\n    $scope.errorMessage = null\r\n    $scope.button = 'GENERATING ...'\r\n    $log.log 'values', $scope.lucky\r\n    $log.log 'form', $scope.form_lucky\r\n    _u = _.uniq _.values $scope.lucky\r\n    if _u.length < 3\r\n      $scope.errorMessage = 'Every box must be unique. Try again?'\r\n      $scope.button = 'TRY AGAIN'\r\n    else\r\n      $timeout $scope.generating, 1500\r\n\r\n    return\r\n\r\n  $scope.generating = ->\r\n    $http\r\n      url: 'lucky'\r\n      data: $scope.lucky\r\n      params:\r\n        lottery: $scope.form_lucky.$dirty\r\n      method: 'POST'\r\n    .success (s)->\r\n      $log.log s\r\n      $scope.lucky = s\r\n      $scope.errorMessage = null\r\n      $scope.button = 'GENERATE'\r\n\r\n      return\r\n    .error (e)->\r\n      $log.error e\r\n      $scope.form_lucky.$dirty = false\r\n      $log.log $scope.form_lucky\r\n      $scope.errorMessage = e.error\r\n      $scope.button = 'TRY AGAIN'\r\n\r\n      return\r\n\r\n  $scope.generate()\r\n\r\n  return","window._app = angular.module('App', ['ui.router']);\n\nwindow._app.config(function($interpolateProvider, $animateProvider, $httpProvider) {\n  $interpolateProvider.startSymbol('{#');\n  $interpolateProvider.endSymbol('#}');\n  $httpProvider.defaults.headers.common[\"X-Requested-With\"] = \"XMLHttpRequest\";\n});\n\nwindow._app.run(function($rootScope, $state, $stateParams) {\n  $rootScope.$state = $state;\n  $rootScope.$stateParams = $stateParams;\n});\n\nangular.element(document).ready(function() {\n  angular.bootstrap(document, ['App']);\n});\n\nwindow._app.config(function($stateProvider, $urlRouterProvider) {\n  var $path;\n  $path = window.location.origin + window.location.pathname;\n  $urlRouterProvider.otherwise('/');\n  $stateProvider.state('index', {\n    url: '/',\n    controller: 'IndexController',\n    templateUrl: $path + 'v/form.html'\n  });\n});\n\n_app.controller('IndexController', function($scope, $log, $window, $http, $timeout) {\n  $scope.lucky = {};\n  $scope.errorMessage = null;\n  $scope.button = 'GENERATE';\n  $scope.generate = function() {\n    var $n;\n    $log.log('This must be your lucky day.');\n    $n = $scope.randomNumbers();\n    $scope.lucky = {\n      a: $n[0],\n      b: $n[1],\n      c: $n[2]\n    };\n  };\n  $scope.randomNumbers = function() {\n    var n;\n    n = _.range(1, 49);\n    n = _.shuffle(n);\n    n = _.slice(n, 0, 3);\n    return n;\n  };\n  $scope.lottery = function(e) {\n    var _u;\n    e.preventDefault();\n    $scope.errorMessage = null;\n    $scope.button = 'GENERATING ...';\n    $log.log('values', $scope.lucky);\n    $log.log('form', $scope.form_lucky);\n    _u = _.uniq(_.values($scope.lucky));\n    if (_u.length < 3) {\n      $scope.errorMessage = 'Every box must be unique. Try again?';\n      $scope.button = 'TRY AGAIN';\n    } else {\n      $timeout($scope.generating, 1500);\n    }\n  };\n  $scope.generating = function() {\n    return $http({\n      url: 'lucky',\n      data: $scope.lucky,\n      params: {\n        lottery: $scope.form_lucky.$dirty\n      },\n      method: 'POST'\n    }).success(function(s) {\n      $log.log(s);\n      $scope.lucky = s;\n      $scope.errorMessage = null;\n      $scope.button = 'GENERATE';\n    }).error(function(e) {\n      $log.error(e);\n      $scope.form_lucky.$dirty = false;\n      $log.log($scope.form_lucky);\n      $scope.errorMessage = e.error;\n      $scope.button = 'TRY AGAIN';\n    });\n  };\n  $scope.generate();\n});\n"],"sourceRoot":"/source/"}